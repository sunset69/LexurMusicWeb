{"version":3,"sources":["webpack://cplayer-umd/webpack/universalModuleDefinition","webpack://cplayer-umd/webpack/bootstrap","webpack://cplayer-umd/./src/lib/playmode/listloop.ts","webpack://cplayer-umd/./src/defaultposter.jpg","webpack://cplayer-umd/(webpack)/buildin/global.js","webpack://cplayer-umd/./node_modules/events/events.js","webpack://cplayer-umd/./src/lib/index.ts","webpack://cplayer-umd/./node_modules/timers-browserify/main.js","webpack://cplayer-umd/./node_modules/setimmediate/setImmediate.js","webpack://cplayer-umd/./node_modules/process/browser.js","webpack://cplayer-umd/./src/lib/polyfill.js","webpack://cplayer-umd/./src/lib/helper/shallowEqual.ts","webpack://cplayer-umd/./src/lib/lyric.ts","webpack://cplayer-umd/./src/lib/playmode/singlecycle.ts","webpack://cplayer-umd/./src/lib/playmode/listrandom.ts","webpack://cplayer-umd/./src/lib/mediaSession.ts","webpack://cplayer-umd/./src/lib/view.ts","webpack://cplayer-umd/./src/lib/helper/returntypeof.ts","webpack://cplayer-umd/./src/cplayer.html","webpack://cplayer-umd/./src/playicon.svg","webpack://cplayer-umd/./src/scss/cplayer.scss","webpack://cplayer-umd/./node_modules/css-loader/dist/runtime/api.js","webpack://cplayer-umd/./node_modules/css-loader/dist/runtime/getUrl.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","baseRemoveMusic","item","playlist","nowpoint","newpoint","targetPoint","needupdate","forEach","a","index","splice","listloopPlaymode","point","__playlist","this","to","nextPoint","prevPoint","Math","max","min","length","push","res","g","Function","e","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","EventEmitter","init","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","events","existing","warning","newListener","emit","unshift","warned","w","Error","String","emitter","count","console","warn","onceWrapper","fired","removeListener","wrapFn","arguments","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","arr","ret","Array","unwrapListeners","arrayClone","listenerCount","copy","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","len","listeners","addListener","on","prependListener","once","prependOnceListener","list","position","originalListener","shift","pop","spliceOne","off","removeAllListeners","keys","rawListeners","eventNames","cplayerView","default","defaultOption","volume","playmode","autoplay","playmodes","listloop","singlecycle","singlecyclePlaymode","listrandom","listrandomPlaymode","playlistPreFilter","map","audio","lyric","replace","trim","decodeLyricStr","sublyric","cplayer","options","__paused","playmodeName","_volume","eventHandlers","handlePlay","pause","handlePlaying","audioElement","currentTime","handleTimeUpdate","time","duration","playedTime","handleCanPlayThrough","handlePause","ended","play","catch","log","handleEnded","next","handlePlayListChange","handlePlaymodeChange","handleLoadeddata","view","cplayerMediaSessionPlugin","setImmediate","openAudio","setVolume","element","addEventListener","removeEventListener","percentage","parseFloat","toString","paused","readyState","nowplay","audioElementType","removeEventEmitter","src","document","createElement","HTMLVideoElement","loop","poster","setAttribute","initializeEventEmitter","Audio","setMode","nowplaypoint","Forced","isPlaying","id","prev","addMusic","needUpdate","removeMusic","destroy","__proto__","now","querySelectorAll","attributes","getNamedItem","generateBeforeElement","deleteElementAfterGenerate","JSON","parse","innerHTML","self","Timeout","clearFn","_id","_clearFn","setTimeout","scope","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","global","clearImmediate","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","process","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","data","port2","documentElement","script","onreadystatechange","removeChild","appendChild","random","source","indexOf","slice","attachEvent","callback","task","run","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","array","noop","title","browser","env","argv","version","versions","binding","cwd","chdir","dir","umask","assign","varArgs","nextSource","nextKey","writable","configurable","hasOwn","is","x","y","objA","objB","keysA","keysB","Lyric","items","raw","reduce","decodeLyricStrItem","lyricItemStr","timestr","match","word","exec","z","parseInt","lyricStr","split","lyricStrItem","randomPoint","floor","defaultPoster","mediaMetadata","MediaMetadata","artist","album","artwork","sizes","player","navigator","mediaSession","metadata","setActionHandler","htmlTemplate","playIcon","style","kanaFilter","str","startflag","ch","charAt","kano","test","buildLyric","zoomOutKana","secondNumber2TimeStr","secondTime","padStart","body","showPlaylist","showPlaylistButton","dropDownMenuMode","width","size","shadowDom","createStyleElement","styleElement","elementLinks","getElementLinks","dropDownMenuShowInfo","__OldVolume","__OldLyric","__OldTotalTime","handlePlaylistchange","updatePlaylist","handleClickListButton","toggleDropDownMenu","handleClickModeButton","toggleMode","handleClickPlayList","handleClickPlayButton","togglePlayState","handleClickVolumeButton","toggleVolumeControllerKeepShow","handleOpenAudio","setPoster","setProgress","innerText","updateLyric","handleModeChange","handleVolumeChange","handleClickPrevButton","handleClickNextButton","handlePlayStateChange","setPlayIcon","handleMouseVolumeController","removeVolumeControllerKeepShow","buttons","which","clientX","volumeController","getBoundingClientRect","left","clientWidth","handleTouchVolumeController","targetTouches","handleAudioElementChange","handleMouseProgress","progress","setCurrentTime","handleTouchProgress","createShadowRoot","rootElement","targetElement","shadowRoot","parentNode","insertBefore","firstChild","createBeforeShadowElement","getElementById","createBeforeElement","createShadowElement","parentElement","fontSize","injectEventListener","showInfo","button","display","dropDownMenu","classList","add","dark","big","gebc","className","getElementsByClassName","icon","progressFill","progressButton","progressDuration","progressCurrentTime","lyricContainer","volumeFill","volumeControllerButton","volumeControllerContainer","playlistItems","getPlayListLinks","remove","right","backgroundImage","modeattr","createAttribute","setNamedItem","height","toggle","totalTime","transition","transform","lyricWidth","lyricContainerWidth","targetOffset","timepage","startTime","moveTime","lis","li","injectPlayListEventListener","passive","played","getLyric","nextLyric","getNextLyric","setLyric","expression","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___","useSourceMap","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","stringify","sourceURLs","sources","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","_i","url","hash","needQuotes"],"mappings":"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","file":"cplayer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"cplayer-umd\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cplayer-umd\"] = factory();\n\telse\n\t\troot[\"cplayer-umd\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import { IAudioItem, Iplaymode, Iplaylist } from '../interfaces';\r\nimport shallowEqual from \"../helper/shallowEqual\";\r\n\r\nexport function baseRemoveMusic(item: IAudioItem, playlist: Iplaylist, nowpoint: number, newpoint: (point: number) => number) {\r\n  let targetPoint: number;\r\n  let needupdate = false;\r\n  playlist.forEach((a, index) => {\r\n    if (shallowEqual(a, item)) {\r\n      targetPoint = index;\r\n    }\r\n  })\r\n  if (typeof targetPoint !== 'undefined') {\r\n    playlist.splice(targetPoint, 1);\r\n    if (nowpoint > targetPoint) {\r\n      nowpoint--;\r\n      needupdate = false;\r\n    } else if (nowpoint === targetPoint) {\r\n      nowpoint = newpoint(nowpoint);\r\n      needupdate = true;\r\n    }\r\n  }\r\n  return { playlist, nowpoint, needupdate };\r\n}\r\n\r\nexport class listloopPlaymode implements Iplaymode {\r\n  private __playlist: Iplaylist = [];\r\n  private point = 0;\r\n  get playlist() {\r\n    return this.__playlist;\r\n  }\r\n\r\n  constructor(playlist: Iplaylist = [], point: number = 0) {\r\n    this.__playlist = playlist;\r\n    this.to(point);\r\n  }\r\n\r\n  public next() {\r\n    this.point = this.nextPoint();\r\n    return this.playlist[this.point];\r\n  }\r\n\r\n  public prev() {\r\n    this.point = this.prevPoint();\r\n    return this.playlist[this.point];\r\n  }\r\n\r\n  public now() {\r\n    return this.playlist[this.point];\r\n  }\r\n\r\n  public nowpoint() {\r\n    return this.point\r\n  }\r\n\r\n  public to(point: number) {\r\n    this.point = Math.max(0, Math.min(point, this.__playlist.length - 1));\r\n  }\r\n\r\n  public addMusic(item: IAudioItem) {\r\n    this.__playlist.push(item);\r\n  }\r\n\r\n  private nextPoint() {\r\n    let res = this.point + 1;\r\n    if (res >= this.__playlist.length) {\r\n      res = 0;\r\n    }\r\n    return res;\r\n  }\r\n\r\n  private prevPoint() {\r\n    let res = this.point - 1;\r\n    if (res < 0) {\r\n      res = this.__playlist.length - 1\r\n    }\r\n    return res;\r\n  }\r\n\r\n  public removeMusic(item: IAudioItem) {\r\n    let { playlist, nowpoint, needupdate } = baseRemoveMusic(item, this.__playlist, this.point, (point) => Math.max(0, Math.min(point, this.__playlist.length - 1)))\r\n    this.__playlist = playlist;\r\n    this.point = nowpoint;\r\n    return needupdate;\r\n  }\r\n}","module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAiACIDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAcDBAUG/8QALhAAAgEDAwIFAwMFAAAAAAAAAQIDAAQRBRIhE0EGIjFRkRQzYTI1cXOBocHR/8QAGAEAAwEBAAAAAAAAAAAAAAAAAQIDBAX/xAAiEQACAQMCBwAAAAAAAAAAAAAAAQIDETESFAQhIkFRYWL/2gAMAwEAAhEDEQA/AGBo7mOKMEBjgc4rqLaRWXG1fgUttA1qNbnpPdGV5mIRRhkiKgeTjkE5J5/1W9pniH6jVbuPdiO2gJwHG13B5wcc44+a5tPpNM4N3OwlC45RfgVlXMA2t5E/nFVZ/EEaWVlcmJmjuDHnDAdIP6MR3GSBx71Fe37LbSSKylVIyNwyM002IotGc2N7cr6+1FYTXu5iepKcnP66KzF9AoBfQ2LmzgWWJp3L72A8rNt2kY5x/wBrtfD+oSXkQ6k8iQSRuJVjwr78DcATx6YyfYehNcbsttTkayGoiGcPuh3REo2FG0bt2R6e3fvVW2vulYSSMPND9vk46jcA/Ab/ABXTlBSXsCnpvfAydb8TR3eg7bMrGrStB1c8r0wTsP4PDKe/OeRUXiPxFLBojump6fFcTtGFeCTDHaoJyMe5A70uYte+n097Z7eK6EjA4mJCptXAK7SOcE1S1a9jvbqNoYzFCkSIiFtxGBzk9znvQXD81cV1kkMSAWDQRt9bMuVB272OOPTOKKVu4+5+aKO2+gbleC5bfusf9U1ctlB1RYiAYy/Kn0P9qKKtLIkMGfeKBdkAADjgVFcffYdgcD8UUU6JPuR0UUURT//Z\"","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","require('./polyfill')\r\nimport { listloopPlaymode } from './playmode/listloop';\r\nimport { IAudioItem, Iplaymode, IplaymodeConstructor, Iplaylist } from './interfaces';\r\nimport { EventEmitter } from 'events';\r\nimport View, { ICplayerViewOption } from './view';\r\nimport { decodeLyricStr } from \"./lyric\";\r\nimport { singlecyclePlaymode } from \"./playmode/singlecycle\";\r\nimport { listrandomPlaymode } from \"./playmode/listrandom\";\r\nimport shallowEqual from \"./helper/shallowEqual\";\r\nimport { cplayerMediaSessionPlugin } from \"./mediaSession\";\r\n\r\nlet cplayerView:typeof View = undefined;\r\n\r\nif (!process.env.cplayer_noview) {\r\n  cplayerView = require('./view').default;\r\n}\r\n\r\nexport interface ICplayerOption {\r\n  playlist?: Iplaylist;\r\n  playmode?: string;\r\n  volume?: number;\r\n  point?: number;\r\n  autoplay?: boolean;\r\n}\r\n\r\nconst defaultOption: ICplayerOption = {\r\n  playlist: [],\r\n  point: 0,\r\n  volume: 1,\r\n  playmode: 'listloop',\r\n  autoplay: false\r\n}\r\n\r\nconst playmodes: { [key: string]: IplaymodeConstructor } = {\r\n  listloop: listloopPlaymode,\r\n  singlecycle: singlecyclePlaymode,\r\n  listrandom: listrandomPlaymode\r\n}\r\n\r\nfunction playlistPreFilter(playlist: Iplaylist) {\r\n  return playlist.map((audio, index) => {\r\n    let res = {\r\n      ...audio\r\n    };\r\n    if (typeof audio.lyric === 'string' && audio.lyric.replace(/\\n+/gi, \"\\n\").trim()) {\r\n      res.lyric = decodeLyricStr(audio.lyric)\r\n    }\r\n    if (typeof audio.sublyric === 'string' && audio.sublyric.replace(/\\n+/gi, \"\\n\").trim()) {\r\n      res.sublyric = decodeLyricStr(audio.sublyric)\r\n    }\r\n    return res;\r\n  })\r\n}\r\n\r\nexport default class cplayer extends EventEmitter {\r\n  private __paused = true;\r\n  public view: View;\r\n  public audioElement: HTMLAudioElement | HTMLVideoElement;\r\n  private playmode: Iplaymode;\r\n  private playmodeName: string = 'listloop';\r\n  private audioElementType: string;\r\n  private _volume: number = 0;\r\n  set mode(playmode: string) {\r\n    this.setMode(playmode);\r\n  }\r\n  set volume(volume: number) {\r\n    this.setVolume(volume);\r\n  }\r\n  get volume() {\r\n    return this._volume\r\n  }\r\n  get mode() {\r\n    return this.playmodeName;\r\n  }\r\n  get playlist() {\r\n    return this.playmode.playlist;\r\n  }\r\n  get nowplay() {\r\n    return this.playmode && this.playmode.now();\r\n  }\r\n  get nowplaypoint() {\r\n    return this.playmode && this.playmode.nowpoint();\r\n  }\r\n  get played() {\r\n    return !this.__paused;\r\n  }\r\n  get paused() {\r\n    return this.__paused;\r\n  }\r\n  get duration() {\r\n    if (this.audioElement) {\r\n      return this.audioElement.duration;\r\n    }\r\n    return 0;\r\n  }\r\n  get currentTime() {\r\n    if (this.audioElement) {\r\n      return this.audioElement.currentTime;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  constructor(options: ICplayerOption & ICplayerViewOption) {\r\n    super();\r\n    options = {\r\n      ...defaultOption,\r\n      ...options\r\n    }\r\n    this.playmode = new playmodes[options.playmode](playlistPreFilter(options.playlist), options.point);\r\n    if (!process.env.cplayer_noview)this.view = new cplayerView(this, options);\r\n    cplayerMediaSessionPlugin(this);\r\n    // 同步调用会导致，用户的事件得不到触发\r\n    setImmediate(() => {\r\n      this.openAudio();\r\n      this.setVolume(options.volume);\r\n      if (options.autoplay && this.playlist.length > 0) {\r\n        this.play(true).catch((e) => {\r\n          console.log(e);\r\n          this.pause();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private initializeEventEmitter(element: HTMLElement) {\r\n    const a = element.addEventListener.bind(element);\r\n    const e = this.eventHandlers;\r\n    a('timeupdate', e.handleTimeUpdate);\r\n    a('canplaythrough', e.handleCanPlayThrough);\r\n    a('pause', e.handlePause);\r\n    a('play', e.handlePlay);\r\n    a('playing', e.handlePlaying)\r\n    a('ended', e.handleEnded);\r\n    a('loadeddata', e.handleLoadeddata);\r\n  }\r\n\r\n  private removeEventEmitter(element: HTMLElement) {\r\n    const r = element.removeEventListener.bind(element);\r\n    const e = this.eventHandlers;\r\n    r('timeupdate', e.handleTimeUpdate);\r\n    r('canplaythrough', e.handleCanPlayThrough);\r\n    r('pause', e.handlePause);\r\n    r('play', e.handlePlay);\r\n    r('playing', e.handlePlaying)\r\n    r('ended', e.handleEnded);\r\n    r('loadeddata', e.handleLoadeddata);\r\n  }\r\n\r\n  private eventHandlers: { [key: string]: (...args: any[]) => void } = {\r\n    handlePlay: (...args) => {\r\n      if (this.__paused) {\r\n        this.pause();\r\n      }\r\n    },\r\n    handlePlaying: (...args) => {\r\n      if (this.audioElement.currentTime === 0) {\r\n        this.emit('started');\r\n      }\r\n    },\r\n    handleTimeUpdate: (...args) => {\r\n      let time = this.audioElement.duration;\r\n      let playedTime = this.audioElement.currentTime;\r\n      this.emit('timeupdate', playedTime, time);\r\n    },\r\n    handleCanPlayThrough: (...args) => {\r\n      this.emit('canplaythrough', ...args);\r\n    },\r\n    handlePause: (...args) => {\r\n      if (!this.__paused && !this.audioElement.ended) {\r\n        this.play(true).catch((e) => {\r\n          console.log(e);\r\n          this.pause();\r\n        });\r\n      }\r\n    },\r\n    handleEnded: (...args) => {\r\n      this.emit('ended', ...args);\r\n      if (!this.__paused) {\r\n        this.next();\r\n      }\r\n    },\r\n    handlePlayListChange: (...args) => {\r\n      this.emit('playlistchange', ...args);\r\n    },\r\n    handlePlaymodeChange: (mode: string = this.mode) => {\r\n      this.emit('playmodechange', mode);\r\n    },\r\n    handleLoadeddata: (...args) => {\r\n      let time = this.audioElement.duration;\r\n      let playedTime = this.audioElement.currentTime;\r\n      this.emit('timeupdate', playedTime, time);\r\n    }\r\n  }\r\n\r\n  public setCurrentTime(currentTime: number | string) {\r\n    if (typeof currentTime === 'string') {\r\n      currentTime.trim();\r\n      if (currentTime[currentTime.length - 1] === '%') {\r\n        const percentage = parseFloat(currentTime);\r\n        currentTime = this.duration * (percentage / 100);\r\n      }\r\n    }\r\n    if (this.audioElement) {\r\n      this.audioElement.currentTime = parseFloat(currentTime.toString());\r\n    }\r\n  }\r\n\r\n  private isPlaying() {\r\n    return !!this.audioElement && this.audioElement.currentTime > 0 && !this.audioElement.paused && !this.audioElement.ended && this.audioElement.readyState > 2;\r\n  }\r\n\r\n  public openAudio(audio: IAudioItem = this.nowplay) {\r\n    if (audio) {\r\n      if (audio.type === 'video') {\r\n        if (!(this.audioElementType === 'HTMLVideoElement')) {\r\n          if(typeof this.audioElement !== 'undefined') {\r\n            this.removeEventEmitter(this.audioElement);\r\n            this.audioElement.src = '';\r\n          }\r\n          this.audioElement = document.createElement('video');\r\n          if (this.audioElement instanceof HTMLVideoElement) {\r\n            this.audioElementType = 'HTMLVideoElement';\r\n            this.audioElement.loop = false;\r\n            this.audioElement.autoplay = false;\r\n            this.audioElement.poster = audio.poster;\r\n            this.audioElement.setAttribute('playsinline', 'true');\r\n            this.audioElement.setAttribute('webkit-playsinline', 'true');\r\n          }\r\n          this.initializeEventEmitter(this.audioElement);\r\n          this.emit('audioelementchange', this.audioElement);\r\n        }\r\n      } else { \r\n        if (!(this.audioElementType === 'HTMLAudioElement')) {\r\n          if(typeof this.audioElement !== 'undefined') { \r\n            this.removeEventEmitter(this.audioElement);\r\n            this.audioElement.src = '';\r\n          }\r\n          this.audioElement = new Audio();\r\n          this.audioElementType = 'HTMLAudioElement';\r\n          this.audioElement.loop = false;\r\n          this.audioElement.autoplay = false;\r\n          this.initializeEventEmitter(this.audioElement);\r\n          this.emit('audioelementchange', this.audioElement);\r\n        }\r\n      }\r\n      this.setVolume(this.volume);\r\n      this.audioElement.src = this.nowplay.src;\r\n      this.emit('openaudio', audio);\r\n      if (!this.__paused) {\r\n        this.play();\r\n      }\r\n    }\r\n  }\r\n\r\n  public toggleMode() {\r\n    switch (this.playmodeName) {\r\n      case 'listloop': this.setMode('singlecycle'); break;\r\n      case 'singlecycle': this.setMode('listrandom'); break;\r\n      case 'listrandom': this.setMode('listloop'); break;\r\n    }\r\n  }\r\n\r\n  public setMode(playmode: string) {\r\n    if (typeof playmode === 'string') {\r\n      if (this.playmodeName !== playmode) {\r\n        if (playmodes[playmode]) {\r\n          this.playmode = new playmodes[playmode](this.playlist, this.nowplaypoint);\r\n          this.playmodeName = playmode;\r\n          this.eventHandlers.handlePlaymodeChange();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public getMode() {\r\n    return this.mode;\r\n  }\r\n\r\n  public play(Forced: boolean = false) {\r\n    let isPlaying = this.isPlaying();\r\n    let res;\r\n    if (!isPlaying && this.playlist.length > 0 || Forced) {\r\n      res = this.audioElement.play();\r\n    }\r\n    if (this.__paused) {\r\n      this.__paused = false;\r\n      this.emit('playstatechange', this.__paused);\r\n      this.emit('play');\r\n    }\r\n    return res;\r\n  }\r\n\r\n  public pause(Forced: boolean = false) {\r\n    let isPlaying = this.isPlaying();\r\n    if (isPlaying && this.playlist.length > 0 || Forced) {\r\n      this.audioElement.pause();\r\n    }\r\n    if (!this.__paused) {\r\n      this.__paused = true;\r\n      this.emit('playstatechange', this.__paused);\r\n      this.emit('pause');\r\n    }\r\n  }\r\n\r\n  public to(id: number) {\r\n    this.playmode.to(id);\r\n    this.openAudio();\r\n  }\r\n\r\n  public next() {\r\n    this.playmode.next();\r\n    this.openAudio();\r\n  }\r\n\r\n  public prev() {\r\n    this.playmode.prev();\r\n    this.openAudio();\r\n  }\r\n\r\n  public togglePlayState() {\r\n    if (this.__paused) {\r\n      this.play();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  public add(item: IAudioItem) {\r\n    item = (playlistPreFilter([item] as Iplaylist))[0];\r\n    this.playmode.addMusic(item);\r\n    this.eventHandlers.handlePlayListChange();\r\n    if (this.playlist.length === 1) {\r\n      this.to(0);\r\n    }\r\n  }\r\n\r\n  public remove(item: IAudioItem) {\r\n    let needUpdate = this.playmode.removeMusic(item);\r\n    this.eventHandlers.handlePlayListChange();\r\n    if (needUpdate) {\r\n      this.openAudio();\r\n    }\r\n  }\r\n\r\n  public setVolume(volume: number | string) {\r\n    this._volume = parseFloat(volume as string);\r\n    if (this.audioElement)\r\n      this.audioElement.volume = Math.max(0.0, Math.min(1.0, this._volume));\r\n    this.emit('volumechange', this.volume);\r\n  }\r\n\r\n  public destroy() {\r\n    if (this.audioElement) {\r\n      this.audioElement.src = null;\r\n      this.audioElement.removeEventListener(\"timeupdate\", this.eventHandlers.handleTimeUpdate);\r\n      this.removeAllListeners();  \r\n    }\r\n    if (this.view) this.view.destroy();\r\n    Object.getOwnPropertyNames(this).forEach((name: keyof cplayer) => delete this[name]);\r\n    (this as any).__proto__ = Object;\r\n  }\r\n}\r\n\r\nif (!process.env.cplayer_noview) {\r\n  function parseCPlayerTag() {\r\n    Array.prototype.forEach.call(document.querySelectorAll('template[cplayer]'),(element: Element) => {\r\n      element.attributes.getNamedItem('loaded') ||\r\n        new cplayer({\r\n          generateBeforeElement: true,\r\n          deleteElementAfterGenerate: true,\r\n          element,\r\n          ...JSON.parse(element.innerHTML)\r\n        })\r\n    })\r\n  }\r\n\r\n  window.addEventListener(\"load\", parseCPlayerTag);\r\n}\r\n\r\n(window as any).cplayer = cplayer;","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (typeof Object.assign != 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n        value: function assign(target, varArgs) { // .length of function is 2\r\n            'use strict';\r\n            if (target == null) { // TypeError if undefined or null\r\n                throw new TypeError('Cannot convert undefined or null to object');\r\n            }\r\n\r\n            var to = Object(target);\r\n\r\n            for (var index = 1; index < arguments.length; index++) {\r\n                var nextSource = arguments[index];\r\n\r\n                if (nextSource != null) { // Skip over if undefined or null\r\n                    for (var nextKey in nextSource) {\r\n                        // Avoid bugs when hasOwnProperty is shadowed\r\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        },\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n}","const hasOwn = Object.prototype.hasOwnProperty\r\n\r\nfunction is(x: any, y: any) {\r\n  if (x == y) {\r\n    return x != 0 || y != 0 || 1 / x == 1 / y\r\n  } else {\r\n    return x != x && y != y\r\n  }\r\n}\r\n\r\nexport default function shallowEqual(objA: any, objB: any) {\r\n  if (is(objA, objB)) return true\r\n\r\n  if (typeof objA !== 'object' || objA === null ||\r\n      typeof objB !== 'object' || objB === null) {\r\n    return false\r\n  }\r\n\r\n  const keysA = Object.keys(objA)\r\n  const keysB = Object.keys(objB)\r\n\r\n  if (keysA.length !== keysB.length) return false\r\n\r\n  for (let i = 0; i < keysA.length; i++) {\r\n    if (!hasOwn.call(objB, keysA[i]) ||\r\n        !is(objA[keysA[i]], objB[keysA[i]])) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}","export interface ILyricItem {\r\n  time: number;\r\n  word: string;\r\n}\r\n\r\n\r\nexport class Lyric {\r\n  raw: string;\r\n  items: ILyricItem[] = [];\r\n  public getLyric(time: number) {\r\n    return this.items.reduce((p, c) => {\r\n      if (c.time < time && (!p || p.time < c.time)) {\r\n        return c;\r\n      }\r\n      return p;\r\n    }, undefined)\r\n  }\r\n  public getNextLyric(time: number) {\r\n    return this.items.reduce((p, c) => {\r\n      if (c.time > time && (!p || p.time > c.time)) {\r\n        return c;\r\n      }\r\n      return p;\r\n    }, undefined)\r\n  }\r\n  public toString() {\r\n    return this.raw;\r\n  }\r\n  constructor(items: ILyricItem[] ,raw: string) {\r\n    this.items = items;\r\n    this.raw = raw;\r\n  }\r\n}\r\n\r\nexport function decodeLyricStr(lyricStr: string, options?: {}) {\r\n  if (typeof lyricStr !== 'string') return lyricStr;\r\n  let lyric: ILyricItem[] = [];\r\n  lyricStr.replace(/\\n+/gi, \"\\n\").trim().split(\"\\n\").forEach((lyricStrItem) => {\r\n    lyric.push(...decodeLyricStrItem(lyricStrItem));\r\n  });\r\n  if (lyric.length == 0) return undefined;\r\n  return new Lyric(lyric, lyricStr);\r\n}\r\n\r\nexport function decodeLyricStrItem(lyricItemStr: string): ILyricItem[] {\r\n  let res: ILyricItem[] = [];\r\n  let timestr = lyricItemStr.match(/\\[\\d+\\:[\\.\\d]+\\]/gi);\r\n  let word = /(?:\\[\\d+\\:[\\.\\d]+\\])*(.*)/gi.exec(lyricItemStr)[1].trim()\r\n  if (timestr && word) {\r\n    timestr.forEach((timestr) => {\r\n      let z = /\\[(\\d+)\\:([\\.\\d]+)\\]/gi.exec(timestr.trim());\r\n      let time = parseInt(z[1]) * 60 * 1000 + parseFloat(z[2]) * 1000;\r\n      res.push({\r\n        time,\r\n        word\r\n      });\r\n    })\r\n  }\r\n  return res;\r\n}","import { IAudioItem, Iplaymode, Iplaylist } from '../interfaces';\r\nimport shallowEqual from \"../helper/shallowEqual\";\r\nimport { baseRemoveMusic } from \"./listloop\";\r\n\r\nexport class singlecyclePlaymode implements Iplaymode {\r\n  private __playlist: Iplaylist = [];\r\n  private audio: IAudioItem;\r\n  private point: number;\r\n  get playlist() {\r\n    return this.__playlist;\r\n  }\r\n\r\n  constructor(playlist: Iplaylist = [], point: number = 0) {\r\n    this.__playlist = playlist;\r\n    this.to(point);\r\n  }\r\n\r\n  public next() {\r\n    return this.__playlist[this.point];\r\n  }\r\n\r\n  public prev() {\r\n    return this.__playlist[this.point];\r\n  }\r\n\r\n  public now() {\r\n    return this.__playlist[this.point];\r\n  }\r\n\r\n  public nowpoint() {\r\n    return this.point;\r\n  }\r\n\r\n  public to(point: number) {\r\n    this.point = Math.max(0, Math.min(point, this.__playlist.length - 1));\r\n  }\r\n\r\n  public addMusic(item: IAudioItem) {\r\n    this.__playlist.push(item);\r\n  }\r\n\r\n  public removeMusic(item: IAudioItem) {\r\n    let {playlist,nowpoint,needupdate} = baseRemoveMusic(item, this.__playlist, this.point, (point) => Math.max(0, Math.min(point, this.__playlist.length - 1)))\r\n    this.__playlist = playlist;\r\n    this.point = nowpoint;\r\n    return needupdate;\r\n  }\r\n}","import { IAudioItem, Iplaymode, Iplaylist } from '../interfaces';\r\nimport shallowEqual from \"../helper/shallowEqual\";\r\nimport { baseRemoveMusic } from \"./listloop\";\r\n\r\nexport class listrandomPlaymode implements Iplaymode {\r\n  private __playlist: Iplaylist = [];\r\n  private point = 0;\r\n  get playlist() {\r\n    return this.__playlist;\r\n  }\r\n\r\n  constructor(playlist: Iplaylist = [], point: number = 0) {\r\n    this.__playlist = playlist;\r\n    this.to(point);\r\n  }\r\n\r\n  public next() {\r\n    this.point = this.randomPoint();\r\n    return this.__playlist[this.point];\r\n  }\r\n\r\n  public prev() {\r\n    this.point = this.randomPoint();\r\n    return this.__playlist[this.point];\r\n  }\r\n\r\n  public now() {\r\n    return this.__playlist[this.point];\r\n  }\r\n\r\n  public nowpoint() {\r\n    return this.point;\r\n  }\r\n\r\n  public to(point: number) {\r\n    this.point = Math.max(0, Math.min(point, this.__playlist.length - 1));\r\n  }\r\n\r\n  public addMusic(item:IAudioItem){\r\n    this.__playlist.push(item);\r\n  }\r\n\r\n  private randomPoint(): number {\r\n    if (this.__playlist.length > 1) {\r\n      let random = Math.floor(this.__playlist.length * Math.random());\r\n      if (random === this.point) {\r\n        return this.randomPoint();\r\n      } else {\r\n        return random;\r\n      }\r\n    } else return 0;\r\n  }\r\n\r\n  public removeMusic(item: IAudioItem) {\r\n    let {playlist,nowpoint,needupdate} = baseRemoveMusic(item, this.__playlist, this.point, (point) => this.randomPoint())\r\n    this.__playlist = playlist;\r\n    this.point = nowpoint;\r\n    return needupdate;\r\n  }\r\n}","import cplayer from './';\r\nimport { IAudioItem } from '../lib/interfaces';\r\n\r\nconst defaultPoster = require('../defaultposter.jpg')\r\n\r\nexport function cplayerMediaSessionPlugin(player: cplayer)\r\n{\r\n  if ('mediaSession' in navigator) {\r\n    if (player.nowplay) navigator.mediaSession.metadata = mediaMetadata(player.nowplay);\r\n    navigator.mediaSession.setActionHandler('play', () => player.play());\r\n    navigator.mediaSession.setActionHandler('pause', () => player.pause());\r\n    navigator.mediaSession.setActionHandler('previoustrack', () => player.prev());\r\n    navigator.mediaSession.setActionHandler('nexttrack', () => player.next());\r\n    player.on('openaudio', () => {\r\n      navigator.mediaSession.metadata = mediaMetadata(player.nowplay);\r\n    })\r\n  }\r\n}\r\n\r\nexport function mediaMetadata(audio: IAudioItem) {\r\n  return new MediaMetadata({\r\n    title: audio.name,\r\n    artist: audio.artist,\r\n    album: audio.album,\r\n    artwork: [\r\n      {\r\n        sizes: '720x720',\r\n        src: audio.poster || defaultPoster\r\n      }\r\n    ]\r\n  });\r\n}\r\n","import { IAudioItem } from './interfaces';\r\nimport cplayer from './';\r\nimport returntypeof from './helper/returntypeof';\r\nimport { EventEmitter } from 'events';\r\nimport parseHTML from \"./helper/parseHTML\";\r\nimport { ILyricItem } from \"./lyric\";\r\n\r\nconst defaultPoster = require('../defaultposter.jpg')\r\nconst htmlTemplate = require('../cplayer.html');\r\nconst playIcon = require('../playicon.svg');\r\nconst style = require('!css-loader!postcss-loader!sass-loader!../scss/cplayer.scss');\r\n\r\nfunction kanaFilter(str: string) {\r\n  const starttag = '<span class=\"cp-lyric-text-zoomout\">';\r\n  const endtag = '</span>';\r\n  let res = '';\r\n  let startflag = false;\r\n  for(let i = 0; i < str.length; i++) {\r\n    let ch = str.charAt(i);\r\n    let kano = /[ぁ-んァ-ン]/.test(ch);\r\n    if (kano && !startflag) {\r\n      res += starttag;\r\n      startflag = true;\r\n    }\r\n    if (!kano && startflag) {\r\n      res += endtag;\r\n      startflag = false;\r\n    }\r\n    res += ch;\r\n  }\r\n  if (startflag) {\r\n    res += endtag;\r\n  }\r\n  return res;\r\n}\r\n\r\nfunction buildLyric(lyric: string, sublyric?: string, zoomOutKana: boolean = false) {\r\n  return (zoomOutKana ? kanaFilter(lyric) : lyric) + (sublyric ? `<span class=\"cp-lyric-text-sub\">${sublyric}</span>` : '')\r\n}\r\n\r\nfunction secondNumber2TimeStr(secondTime: number) {\r\n  const minute: string = parseInt((secondTime / 60).toString()).toString().padStart(2, '0');\r\n  const second: string = parseInt((secondTime % 60).toString()).toString().padStart(2, '0');\r\n  return minute + ':' + second;\r\n}\r\n\r\nexport interface ICplayerViewOption {\r\n  element?: Element;\r\n  generateBeforeElement?: boolean;\r\n  deleteElementAfterGenerate?: boolean;\r\n  zoomOutKana?: boolean;\r\n  showPlaylist?: boolean;\r\n  showPlaylistButton?: boolean;\r\n  width?: string;\r\n  size?: string;\r\n  style?: string;\r\n  dark?: boolean;\r\n  big?: boolean;\r\n  shadowDom?: boolean;\r\n  dropDownMenuMode?: 'bottom' | 'top' | 'none' | string;\r\n}\r\n\r\nconst defaultOption: ICplayerViewOption = {\r\n  element: document.body,\r\n  generateBeforeElement: false,\r\n  deleteElementAfterGenerate: false,\r\n  zoomOutKana: false,\r\n  showPlaylist: false,\r\n  showPlaylistButton: true,\r\n  dropDownMenuMode: 'bottom',\r\n  width: '',\r\n  size: '12px',\r\n  style: '',\r\n  shadowDom: true\r\n}\r\n\r\n\r\nfunction createStyleElement(style: string) {\r\n  const styleElement = document.createElement('style');\r\n  styleElement.id = 'cplayer-style';\r\n  styleElement.innerHTML = style;\r\n  return styleElement;\r\n}\r\n\r\nfunction createShadowElement(targetElement: Element, htmlTemplate: string, style: string) {\r\n  let shadowRoot = (targetElement as any).createShadowRoot() as ShadowRoot;\r\n  shadowRoot.innerHTML = htmlTemplate;\r\n  shadowRoot.appendChild(createStyleElement(style));\r\n  return shadowRoot.firstChild as HTMLElement;\r\n}\r\n\r\nfunction createBeforeElement(targetElement: Element, htmlTemplate: string, style: string) {\r\n  let element = document.createElement('div');\r\n  element.innerHTML = htmlTemplate;\r\n  targetElement.parentNode.insertBefore(element, targetElement);\r\n  if (!document.getElementById('cplayer-style')) {\r\n    document.body.appendChild(createStyleElement(style));\r\n  }\r\n  return element.firstChild as HTMLElement;\r\n}\r\n\r\nfunction createBeforeShadowElement(targetElement: Element, htmlTemplate: string, style: string) {\r\n  let element = document.createElement('div');\r\n  let shadowRoot = (element as any).createShadowRoot() as ShadowRoot;\r\n  shadowRoot.innerHTML = htmlTemplate;\r\n  shadowRoot.appendChild(createStyleElement(style));\r\n  targetElement.parentNode.insertBefore(element, targetElement);\r\n  return shadowRoot.firstChild as HTMLElement;\r\n}\r\n\r\nfunction createElement(targetElement: Element, htmlTemplate: string, style: string) {\r\n  targetElement.innerHTML = htmlTemplate;\r\n  if (!document.getElementById('cplayer-style')) {\r\n    document.body.appendChild(createStyleElement(style));\r\n  }\r\n  return targetElement.firstChild as HTMLElement;\r\n}\r\n\r\nexport default class cplayerView extends EventEmitter {\r\n  private elementLinks = returntypeof(this.getElementLinks);\r\n  private rootElement: HTMLElement;\r\n  private player: cplayer;\r\n  private dropDownMenuShowInfo = true;\r\n  private options: ICplayerViewOption;\r\n\r\n  constructor(player: cplayer, options: ICplayerViewOption) {\r\n    super();\r\n    this.options = {\r\n      ...defaultOption,\r\n      ...options\r\n    };\r\n    this.player = player;\r\n    if (this.options.generateBeforeElement) {\r\n      if ((this.options.element as any).createShadowRoot && options.shadowDom !== false) {\r\n        this.rootElement = createBeforeShadowElement(this.options.element, htmlTemplate, style + this.options.style);\r\n      } else {\r\n        this.rootElement = createBeforeElement(this.options.element, htmlTemplate, style + this.options.style);\r\n      }\r\n    } else {\r\n      if ((this.options.element as any).createShadowRoot && options.shadowDom !== false) {\r\n        this.rootElement = createShadowElement(this.options.element, htmlTemplate, style + this.options.style);\r\n      } else {\r\n        this.rootElement = createElement(this.options.element, htmlTemplate, style + this.options.style);\r\n      }\r\n    }\r\n    if (options.deleteElementAfterGenerate) {\r\n      options.element.parentElement.removeChild(options.element);\r\n    }\r\n    this.rootElement.style.width = this.options.width;\r\n    this.rootElement.style.fontSize = this.options.size;\r\n    this.elementLinks = this.getElementLinks();\r\n    this.injectEventListener();\r\n    this.setPlayIcon(this.player.paused);\r\n    this.dropDownMenuShowInfo = !this.options.showPlaylist;\r\n    if (this.dropDownMenuShowInfo) {\r\n      this.showInfo();\r\n    } else this.showPlaylist();\r\n    if (!this.options.showPlaylistButton)\r\n      this.elementLinks.button.list.style.display = 'none';\r\n    else\r\n      this.elementLinks.button.list.style.display = '';\r\n    this.elementLinks.dropDownMenu.classList.add('cp-drop-down-menu-' + this.options.dropDownMenuMode)\r\n    if (this.options.dark) {\r\n      this.dark();\r\n    }\r\n    if (this.options.big) {\r\n      this.big();\r\n    }\r\n\r\n    // this.setPoster(this.player.nowplay.poster || defaultPoster);\r\n    this.setProgress(this.player.currentTime / this.player.duration,\r\n      this.player.currentTime,\r\n      this.player.duration);\r\n    // this.elementLinks.title.innerText = this.player.nowplay.name;\r\n    // this.elementLinks.artist.innerText = this.player.nowplay.artist || '';\r\n    this.updateLyric();\r\n    this.updatePlaylist();\r\n  }\r\n\r\n  public getRootElement() {\r\n    return this.rootElement;\r\n  }\r\n\r\n  public dark() {\r\n    this.rootElement.classList.add('cp-dark');\r\n  }\r\n\r\n  public big() {\r\n    this.rootElement.classList.add('cp-big');\r\n  }\r\n\r\n  private getPlayListLinks(rootElement: Element = this.rootElement) {\r\n    return rootElement.querySelectorAll('.cp-playlist li');\r\n  }\r\n\r\n  private getElementLinks(rootElement: Element = this.rootElement) {\r\n    let gebc: (className: string) => Element = className => rootElement.getElementsByClassName(className)[0];\r\n    return {\r\n      icon: {\r\n        play: gebc('cp-play-icon') as HTMLElement,\r\n        mode: gebc('cp-mode-icon') as HTMLElement,\r\n      },\r\n      button: {\r\n        prev: gebc('cp-prev-button') as HTMLElement,\r\n        play: gebc('cp-play-button') as HTMLElement,\r\n        next: gebc('cp-next-button') as HTMLElement,\r\n        volume: gebc('cp-volume-icon') as HTMLElement,\r\n        list: gebc('cp-list-button') as HTMLElement,\r\n        mode: gebc('cp-mode-button') as HTMLElement\r\n      },\r\n      progress: gebc('cp-progress') as HTMLElement,\r\n      progressFill: gebc('cp-progress-fill') as HTMLElement,\r\n      progressButton: gebc('cp-progress-button') as HTMLElement,\r\n      progressDuration: gebc('cp-progress-duration') as HTMLElement,\r\n      progressCurrentTime: gebc('cp-progress-current-time') as HTMLElement,\r\n      poster: gebc('cp-poster') as HTMLElement,\r\n      title: gebc('cp-audio-title') as HTMLElement,\r\n      artist: gebc('cp-audio-artist') as HTMLElement,\r\n      lyric: gebc('cp-lyric-text') as HTMLElement,\r\n      lyricContainer: gebc('cp-lyric') as HTMLElement,\r\n      volumeController: gebc('cp-volume-controller') as HTMLElement,\r\n      volumeFill: gebc('cp-volume-fill') as HTMLElement,\r\n      volumeControllerButton: gebc('cp-volume-controller-button') as HTMLElement,\r\n      volumeControllerContainer: gebc('cp-volume-container') as HTMLElement,\r\n      dropDownMenu: gebc('cp-drop-down-menu') as HTMLElement,\r\n      playlist: gebc('cp-playlist') as HTMLElement,\r\n      playlistItems: this.getPlayListLinks(rootElement)\r\n    }\r\n  }\r\n\r\n  private setPlayIcon(paused: boolean) {\r\n    if (paused) {\r\n      this.elementLinks.icon.play.classList.add('cp-play-icon-paused');\r\n    } else {\r\n      this.elementLinks.icon.play.classList.remove('cp-play-icon-paused');\r\n    }\r\n  }\r\n\r\n  private setProgress(point: number, currentTime: number, duration: number) {\r\n    this.elementLinks.progressFill.style.width = `${point * 100}%`;\r\n    this.elementLinks.progressButton.style.right = (1 - point) * 100 + '%';\r\n    this.elementLinks.progressCurrentTime.innerText = secondNumber2TimeStr(currentTime);\r\n    this.elementLinks.progressDuration.innerText = secondNumber2TimeStr(duration);\r\n  }\r\n\r\n  private setPoster(src: string) {\r\n    this.elementLinks.poster.style.backgroundImage = `url(\"${src}\")`;\r\n  }\r\n\r\n  private __OldVolume = 1;\r\n  private setVolume(volume: number) {\r\n    if (this.__OldVolume !== volume) {\r\n      this.elementLinks.volumeFill.style.width = `${volume * 100}%`;\r\n      this.elementLinks.volumeControllerButton.style.right = (1 - volume) * 100 + '%';\r\n      this.__OldVolume = volume\r\n    }\r\n  }\r\n\r\n  private setMode(mode: string) {\r\n    var modeattr = document.createAttribute('data-mode');\r\n    modeattr.value = mode;\r\n    this.elementLinks.button.mode.attributes.setNamedItem(modeattr);\r\n  }\r\n\r\n  public showInfo() {\r\n    let dropDownMenu = this.elementLinks.dropDownMenu;\r\n    dropDownMenu.style.height = '';\r\n    dropDownMenu.classList.remove('cp-drop-down-menu-playlist');\r\n    dropDownMenu.classList.add('cp-drop-down-menu-info');\r\n    this.dropDownMenuShowInfo = true;\r\n  }\r\n\r\n  public showPlaylist() {\r\n    let dropDownMenu = this.elementLinks.dropDownMenu;\r\n    dropDownMenu.style.height = this.player.playlist.length * 2.08333 + 'em';\r\n    dropDownMenu.classList.remove('cp-drop-down-menu-info');\r\n    dropDownMenu.classList.add('cp-drop-down-menu-playlist');\r\n    this.dropDownMenuShowInfo = false;\r\n  }\r\n\r\n  public toggleDropDownMenu() {\r\n    if (this.dropDownMenuShowInfo) {\r\n      this.showPlaylist();\r\n    } else {\r\n      this.showInfo();\r\n    }\r\n  }\r\n\r\n  private setVolumeControllerKeepShow() {\r\n    this.elementLinks.volumeControllerContainer.classList.add('cp-volume-container-show');\r\n  }\r\n\r\n  private toggleVolumeControllerKeepShow() {\r\n    this.elementLinks.volumeControllerContainer.classList.toggle('cp-volume-container-show');\r\n  }\r\n\r\n  private removeVolumeControllerKeepShow() {\r\n    this.elementLinks.volumeControllerContainer.classList.remove('cp-volume-container-show');\r\n  }\r\n\r\n  private __OldLyric = '';\r\n  private __OldTotalTime = 0;\r\n\r\n  private setLyric(lyric: string, time: number = 0, totalTime: number = 0) {\r\n    if (this.__OldLyric !== lyric || this.__OldTotalTime !== totalTime) {\r\n      this.elementLinks.lyric.innerHTML = lyric;\r\n      this.elementLinks.lyric.style.transition = '';\r\n      this.elementLinks.lyric.style.transform = '';\r\n      if (totalTime !== 0) {\r\n        let lyricWidth = this.elementLinks.lyric.clientWidth;\r\n        let lyricContainerWidth = this.elementLinks.lyricContainer.clientWidth;\r\n        if (lyricWidth > lyricContainerWidth) {\r\n          let duration = totalTime - time;\r\n          let targetOffset = (lyricWidth - lyricContainerWidth);\r\n          let timepage = lyricContainerWidth / lyricWidth * duration;\r\n          let startTime = Math.min(timepage * 0.6, duration);\r\n          let moveTime = duration - timepage;\r\n\r\n          this.elementLinks.lyric.style.transition = `transform ${moveTime}ms linear ${startTime}ms`\r\n          this.elementLinks.lyric.style.transform = `translateX(-${targetOffset}px)`;\r\n        }\r\n      }\r\n      this.__OldLyric = lyric;\r\n      this.__OldTotalTime = totalTime;\r\n    }\r\n  }\r\n\r\n  private updatePlaylist() {\r\n    var lis = this.player.playlist.map((audio, index) => {\r\n      var element = document.createElement('li');\r\n      element.innerHTML = `\r\n        ${index === this.player.nowplaypoint ? playIcon : '<span class=\"cp-play-icon\"></span>'}\r\n        <span>${audio.name}</span><span class='cp-playlist-artist'>${audio.artist ? ' - ' + audio.artist : ''}</span>\r\n      `\r\n      return element;\r\n    })\r\n    this.elementLinks.playlist.innerHTML = '';\r\n    lis.forEach((li) => {\r\n      this.elementLinks.playlist.appendChild(li);\r\n    })\r\n    this.elementLinks.playlistItems = this.getPlayListLinks();\r\n    this.injectPlayListEventListener();\r\n    if (!this.dropDownMenuShowInfo) {\r\n      this.elementLinks.dropDownMenu.style.height = this.player.playlist.length * 2.08333 + 'em';\r\n    }\r\n  }\r\n\r\n  private injectPlayListEventListener() {\r\n    Array.prototype.forEach.call(this.elementLinks.playlistItems,((i: Element, index: number) => {\r\n      i.addEventListener('click', (event) => {\r\n        this.handleClickPlayList(index, event);\r\n      })\r\n    }))\r\n  }\r\n\r\n  private injectEventListener() {\r\n    this.elementLinks.button.play.addEventListener('click', this.handleClickPlayButton);\r\n    this.elementLinks.button.prev.addEventListener('click', this.handleClickPrevButton);\r\n    this.elementLinks.button.next.addEventListener('click', this.handleClickNextButton);\r\n    this.elementLinks.button.volume.addEventListener('click', this.handleClickVolumeButton);\r\n    this.elementLinks.button.list.addEventListener('click', this.handleClickListButton);\r\n    this.elementLinks.button.mode.addEventListener('click', this.handleClickModeButton);\r\n    this.elementLinks.volumeController.addEventListener('mousemove', this.handleMouseVolumeController)\r\n    this.elementLinks.volumeController.addEventListener('mousedown', this.handleMouseVolumeController)\r\n    this.elementLinks.volumeController.addEventListener('touchmove', this.handleTouchVolumeController, {passive: true} as any)\r\n\r\n    this.elementLinks.progress.addEventListener('mousemove', this.handleMouseProgress)\r\n    this.elementLinks.progress.addEventListener('mousedown', this.handleMouseProgress)\r\n    this.elementLinks.progress.addEventListener('touchmove', this.handleTouchProgress, {passive: true} as any)\r\n\r\n    this.player.addListener('playstatechange', this.handlePlayStateChange);\r\n    this.player.addListener('timeupdate', this.handleTimeUpdate);\r\n    this.player.addListener('openaudio', this.handleOpenAudio);\r\n    this.player.addListener('volumechange', this.handleVolumeChange);\r\n    this.player.addListener('playmodechange', this.handleModeChange);\r\n    this.player.addListener('playlistchange', this.handlePlaylistchange);\r\n    this.player.addListener('audioelementchange', this.handleAudioElementChange);\r\n    this.injectPlayListEventListener();\r\n  }\r\n\r\n  private handlePlaylistchange = () => {\r\n    this.updatePlaylist()\r\n  }\r\n\r\n  private updateLyric(playedTime: number = 0) {\r\n    if (!this.player.nowplay) {\r\n      this.setLyric(null);\r\n      return;\r\n    }\r\n\r\n    if (this.player.nowplay.lyric && typeof this.player.nowplay.lyric !== 'string' && this.player.played) {\r\n      let lyric = this.player.nowplay.lyric.getLyric(playedTime * 1000);\r\n      let nextLyric = this.player.nowplay.lyric.getNextLyric(playedTime * 1000);\r\n      if (lyric) {\r\n        let sublyric: ILyricItem;\r\n        if (this.player.nowplay.sublyric && typeof this.player.nowplay.sublyric !== 'string') {\r\n          sublyric = this.player.nowplay.sublyric.getLyric(playedTime * 1000);\r\n        }\r\n        if (nextLyric) {\r\n          let duration = nextLyric.time - lyric.time;\r\n          let currentTime = playedTime * 1000 - lyric.time;\r\n          this.setLyric(buildLyric(lyric.word, sublyric ? sublyric.word : undefined, this.options.zoomOutKana), currentTime, duration);\r\n        } else {\r\n          let duration = this.player.duration - lyric.time;\r\n          let currentTime = playedTime * 1000 - lyric.time;\r\n          this.setLyric(buildLyric(lyric.word, sublyric ? sublyric.word : undefined, this.options.zoomOutKana), currentTime, duration);\r\n        }\r\n      } else {\r\n        this.setLyric(buildLyric(this.player.nowplay.name, this.player.nowplay.artist, false), playedTime * 1000, nextLyric.time);\r\n      }\r\n    } else {\r\n      this.setLyric(buildLyric(this.player.nowplay.name, this.player.nowplay.artist, false));\r\n    }\r\n  }\r\n\r\n  private handleClickListButton = () => {\r\n    this.toggleDropDownMenu();\r\n  }\r\n\r\n  private handleClickModeButton = () => {\r\n    this.player.toggleMode();\r\n  }\r\n\r\n  private handleClickPlayList = (point: number, event: Event) => {\r\n    if (this.player.nowplaypoint !== point){\r\n      this.player.to(point);\r\n      this.player.play();\r\n    }\r\n  }\r\n\r\n  private handleClickPlayButton = () => {\r\n    this.player.togglePlayState();\r\n  }\r\n\r\n  private handleClickVolumeButton = () => {\r\n    this.toggleVolumeControllerKeepShow();\r\n  }\r\n\r\n  private handleOpenAudio = (audio: IAudioItem) => {\r\n    if (audio.type !== 'video') {\r\n      this.setPoster(audio.poster || defaultPoster);\r\n    } else {\r\n      this.setPoster('none');\r\n    }\r\n    this.setProgress(0,0,0);\r\n    this.elementLinks.title.innerText = audio.name;\r\n    this.elementLinks.artist.innerText = audio.artist || '';\r\n    this.updateLyric();\r\n    this.updatePlaylist();\r\n  }\r\n\r\n  private handleModeChange = (mode: string) => {\r\n    this.setMode(mode);\r\n  }\r\n\r\n  private handleVolumeChange = (volume: number) => {\r\n    this.setVolume(volume);\r\n  };\r\n\r\n  private handleTimeUpdate = (playedTime: number, time: number) => {\r\n    this.setProgress(playedTime / time, playedTime, time);\r\n    this.updateLyric(playedTime);\r\n  }\r\n\r\n  private handleClickPrevButton = () => {\r\n    this.player.prev();\r\n    this.player.play();\r\n  }\r\n\r\n  private handleClickNextButton = () => {\r\n    this.player.next();\r\n    this.player.play();\r\n  }\r\n\r\n  private handlePlayStateChange = (paused: boolean) => {\r\n    this.setPlayIcon(paused);\r\n  }\r\n\r\n  private handleMouseVolumeController = (event: MouseEvent) => {\r\n    this.removeVolumeControllerKeepShow()\r\n    if (event.buttons === 1 || typeof event.buttons === 'undefined' && event.which === 1) {\r\n      let volume = Math.max(0, Math.min(1.0,\r\n        (event.clientX - this.elementLinks.volumeController.getBoundingClientRect().left) / this.elementLinks.volumeController.clientWidth\r\n      ));\r\n      this.player.setVolume(volume);\r\n      this.setVolume(volume);\r\n    }\r\n  };\r\n\r\n  private handleTouchVolumeController = (event: TouchEvent) => {\r\n    this.removeVolumeControllerKeepShow()\r\n    let volume = Math.max(0, Math.min(1.0,\r\n      (event.targetTouches[0].clientX - this.elementLinks.volumeController.getBoundingClientRect().left) / this.elementLinks.volumeController.clientWidth\r\n    ));\r\n    this.player.setVolume(volume);\r\n    this.setVolume(volume);\r\n  };\r\n\r\n  private handleAudioElementChange = (element: HTMLAudioElement | HTMLVideoElement) => {\r\n    if (element instanceof HTMLVideoElement) {\r\n      this.elementLinks.poster.appendChild(element);\r\n    }\r\n    else {\r\n      this.elementLinks.poster.innerHTML = '';\r\n    }\r\n  }\r\n\r\n  private handleMouseProgress = (event: MouseEvent) => {\r\n    if (event.buttons === 1 || typeof event.buttons === 'undefined' && event.which === 1) {\r\n      let progress = Math.max(0, Math.min(1.0,\r\n        (event.clientX - this.elementLinks.progress.getBoundingClientRect().left) / this.elementLinks.progress.clientWidth\r\n      ));\r\n      this.player.setCurrentTime(progress * 100 + '%');\r\n    }\r\n  };\r\n\r\n  private handleTouchProgress = (event: TouchEvent) => {\r\n    let progress = Math.max(0, Math.min(1.0,\r\n      (event.targetTouches[0].clientX - this.elementLinks.progress.getBoundingClientRect().left) / this.elementLinks.progress.clientWidth\r\n    ));\r\n    this.player.setCurrentTime(progress * 100 + '%');\r\n  }\r\n\r\n  public destroy() {\r\n    this.rootElement.parentElement.removeChild(this.rootElement);\r\n  }\r\n}\r\n","export default function returntypeof<RT>(expression: (...params: any[]) => RT): RT {\r\n  return {} as RT;\r\n}","module.exports = \"<c-player loaded> <div class=cp-mainbody> <div class=cp-poster> </div> <div class=cp-center-container> <div class=cp-controls> <a class=cp-prev-button> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=cp-prev-icon viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M943.705 11.8c10.321 5.183 17.325 15.601 17.534 27.675l-0.004 938.318c-0.167 12.186-7.229 22.684-17.457 27.782-4.857 2.548-10.527 4.026-16.543 4.026a35.75 35.75 0 0 1-18.217-4.955l-716.617-469c-9.689-5.299-16.151-15.421-16.151-27.053 0-11.63 6.462-21.753 15.991-26.972L909.186 12.666c5.177-3.048 11.404-4.848 18.052-4.848a35.878 35.878 0 0 1 16.665 4.077z\\\"/> <path d=\\\"M228.435 77.809v868.712c-3.889 42.573-39.416 75.664-82.673 75.664s-78.784-33.091-82.649-75.34l-0.024-869.036C65.9 34.259 101.911 0 145.924 0s80.024 34.259 82.822 77.564z\\\"/> </svg> </a> <a class=cp-play-button> <span class=\\\"cp-play-icon cp-play-icon-paused\\\"> <div class=cp-play-icon-left></div> <div class=cp-play-icon-right></div> <div class=cp-play-icon-triangle-1></div> <div class=cp-play-icon-triangle-2></div> </span> </a> <a class=cp-next-button> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=cp-next-icon viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M943.705 11.8c10.321 5.183 17.325 15.601 17.534 27.675l-0.004 938.318c-0.167 12.186-7.229 22.684-17.457 27.782-4.857 2.548-10.527 4.026-16.543 4.026a35.75 35.75 0 0 1-18.217-4.955l-716.617-469c-9.689-5.299-16.151-15.421-16.151-27.053 0-11.63 6.462-21.753 15.991-26.972L909.186 12.666c5.177-3.048 11.404-4.848 18.052-4.848a35.878 35.878 0 0 1 16.665 4.077z\\\"/> <path d=\\\"M228.435 77.809v868.712c-3.889 42.573-39.416 75.664-82.673 75.664s-78.784-33.091-82.649-75.34l-0.024-869.036C65.9 34.259 101.911 0 145.924 0s80.024 34.259 82.822 77.564z\\\"/> </svg> </a> </div> <div class=cp-lyric> <span class=cp-lyric-text></span> </div> </div> <a class=cp-volume-button> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-volume-icon cp-icon-dark\\\" viewBox=\\\"0 200 1024 650\\\" version=1.1> <path d=\\\"M607.869008 364.026176l-49.340512 49.340528c25.412064 25.160448 41.150352 60.055392 41.150352 98.637648 0 38.573568-15.738288 73.477184-41.150352 98.62896l49.340512 49.340512c37.836112-37.888176 61.244-90.195872 61.244-147.969488 0-57.782272-23.407888-110.081328-61.244-147.978176z\\\"/> <path d=\\\"M807.937968 512c0-96.086912-39.050752-183.055296-102.134064-245.904368L656.95792 314.9416c50.398992 50.45104 81.563248 120.1108 81.563248 197.0584 0 76.938912-31.172944 146.598672-81.563248 197.0584l48.845984 48.845968C768.887216 695.055296 807.937968 608.086896 807.937968 512z\\\"/> <path d=\\\"M946.780288 512.004336c0-134.434896-54.598176-256.107376-142.807248-344.082192l-49.088912 49.088896c75.65488 75.411952 122.470672 179.732384 122.470672 294.993296 0 115.252224-46.815792 219.581328-122.470672 294.984608l49.088912 49.088912c88.209072-87.966144 142.807248-209.647312 142.807248-344.07352z\\\"/> <path d=\\\"M247.605111 659.304938 458.566804 854.551527 458.566804 169.448479 251.58222 364.704275 53.490893 364.704275 53.490893 659.304938Z\\\"/> </svg> <div class=cp-volume-container> <div> <span class=cp-volume-controller> <span class=cp-volume-fill></span> <span class=cp-volume-controller-button></span> </span> </div> </div> </a> <a class=cp-list-button> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-list-icon cp-icon-dark\\\" viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M168.57 820.6c0 14.34-9.56 23.89-23.89 23.89H96.89c-14.34 0-23.89-9.55-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89h47.79c14.34 0 23.89 9.56 23.89 23.89z m0-284.33c0 14.34-9.56 23.89-23.89 23.89H96.89c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89h47.79c14.34 0 23.89 9.56 23.89 23.89z m0-286.72c0 14.34-9.56 23.89-23.89 23.89H96.89c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89h47.79c14.34 0 23.89 9.56 23.89 23.89zM969 820.6c0 14.34-7.17 23.89-21.5 23.89H314.32c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89H945.1c14.34 0 23.89 9.56 23.89 23.89z m0-284.33c0 14.34-7.17 23.89-21.5 23.89H314.32c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89H945.1c14.34 0 23.89 9.56 23.89 23.89z m0-286.72c0 14.34-7.17 23.89-21.5 23.89H314.32c-14.34 0-23.89-9.56-23.89-23.89v-47.79c0-14.34 9.56-23.89 23.89-23.89H945.1c14.34 0 23.89 9.56 23.89 23.89z\\\"/> </svg> </a> <a class=cp-mode-button data-mode=listloop> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-loop-icon cp-icon-dark\\\" viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M157 624c17.3-4.8 27.4-22.7 22.6-40-5.4-19.4-8.1-39.5-8.1-59.9 0-123.1 100.1-223.2 223.2-223.2h302.4v57.6c0 18.5 12.9 25.6 28.6 15.9l138.6-85.8c15.7-9.7 15.9-25.9 0.3-35.9l-139.2-89.9c-15.5-10-28.2-3.1-28.2 15.4V236H394.7c-77 0-149.3 30-203.8 84.4-54.4 54.4-84.4 126.8-84.4 203.8 0 26.2 3.5 52.2 10.5 77.3 4 14.4 17.1 23.8 31.3 23.8 2.9-0.1 5.8-0.4 8.7-1.3z m748.7-202.1c-4-14.4-17.1-23.8-31.3-23.8-2.9 0-5.8 0.4-8.7 1.2-17.3 4.8-27.4 22.7-22.6 40 5.4 19.4 8.1 39.5 8.1 59.9 0 123.1-100.1 223.2-223.2 223.2H325.5v-57.6c0-18.5-12.9-25.6-28.6-15.9l-138.6 85.8c-15.7 9.7-15.9 25.9-0.3 35.9l139.2 89.9c15.5 10 28.2 3.1 28.2-15.4v-57.9h302.4c77 0 149.3-30 203.8-84.4C886 648.4 916 576 916 499c0.1-26-3.4-52-10.3-77.1z\\\"/> </svg> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-single-icon cp-icon-dark\\\" viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M102.5 653.9c17.3-4.8 27.4-22.7 22.6-40-5.4-19.4-8.1-43.4-8.1-63.8C117 427 217.1 323 340.2 323h132.3c1.4-20 5.4-40 11.7-60h-144c-77 0-149.4 31.4-203.8 85.8C82 403.2 52 476.3 52 553.3c0 26.2 3.5 52.6 10.5 77.6 4 14.4 17.1 24 31.3 24 2.9 0 5.8-0.2 8.7-1z m471 109.1H272v-68.3c0-18.5-13.3-25.6-29-15.9l-138.8 85.8c-15.7 9.7-16 25.9-0.5 35.9l139.7 89.9c15.5 10 28.7 3.1 28.7-15.4v-52h301.5c77 0 149.4-32.9 203.8-87.3 34.7-34.7 59.5-78.2 72.9-124-24 9-49.6 19.4-76.2 21.5-36.5 74-112.7 129.8-200.6 129.8zM752 127.9c-121.5 0-220 98.5-220 220s98.5 220 220 220 220-98.5 220-220-98.5-220-220-220zM792 463h-40V298.7c-20 14-36.2 24.5-60 31.3v-41.8c11.5-2.9 23.8-10.4 36.7-17.6 13-7.9 23.8-7.7 32.4-27.7H792V463z\\\"/> </svg> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=\\\"cp-random-icon cp-icon-dark\\\" viewBox=\\\"0 0 1024 1024\\\" version=1.1> <path d=\\\"M112 405.2h218.2c7.1 0 21 5.8 26 10.8l38 38.6c13.6 13.8 35.7 13.9 49.5 0.4 13.8-13.6 13.9-35.7 0.4-49.5l-38-38.6c-18.1-18.4-50-31.7-75.8-31.7H112c-19.3 0-35 15.7-35 35 0 19.4 15.7 35 35 35z m623.2 0h62.4v42.6c0 10.9 7.5 15 16.7 8.8l125.8-83.9c9.3-6.2 9.2-16.2 0-22.4l-125.8-83.9c-9.3-6.2-16.7-2.2-16.7 8.8v60h-62.4c-53.5 0-123.5 29.3-161 67.4L393.9 585.7c-24.3 24.7-76.4 46.5-111.1 46.5H112c-19.3 0-35 15.7-35 35s15.7 35 35 35h170.7c53.5 0 123.5-29.3 161-67.4L624 451.7c24.4-24.7 76.4-46.5 111.2-46.5z m79.1 161.2c-9.3-6.2-16.7-2.2-16.7 8.8v57H681.9c-6.9 0-20.2-5.6-25-10.4l-37.3-37.9c-13.6-13.8-35.7-13.9-49.5-0.4-13.8 13.6-13.9 35.7-0.4 49.5l37.3 37.9c18 18.2 49.3 31.3 74.9 31.3h115.6v45.6c0 10.9 7.5 15 16.7 8.8L940 672.7c9.3-6.2 9.2-16.2 0-22.4l-125.7-83.9z\\\"/> </svg> </a> <div class=cp-progress-container> <span class=cp-progress-current-time>07:24</span> <div class=cp-progress> <div class=cp-progress-fill></div> <span class=cp-progress-button></span> </div> <span class=cp-progress-duration>24:50</span> </div> </div> <div class=\\\"cp-drop-down-menu cp-drop-down-menu-info\\\"> <div class=cp-audio-info> <span class=cp-audio-title></span> - <span class=cp-audio-artist></span> </div> <ul class=cp-playlist> </ul> </div> </c-player>\";","module.exports = \"<svg class=cp-play-icon viewBox=\\\"0 0 1024 1024\\\" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=200 height=200> <path d=\\\"M64.279417 58.009844c0-21.327148 10.62092-39.540533 29.218194-50.118799a56.858178 56.858178 0 0 1 58.265769 0.255926l779.336659 453.969682c18.341348 10.706229 28.748996 28.748996 28.748996 49.905527 0 21.113877-10.407648 39.156645-28.748996 49.820219L151.76338 1015.854735a56.943486 56.943486 0 0 1-58.265769 0.255926 56.303672 56.303672 0 0 1-29.218194-50.161453V58.009844z\\\"> </path> </svg>\";","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../defaultposter.jpg\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \"@-webkit-keyframes miss-pointer-event{0%{pointer-events:none}50%{pointer-events:none}100%{pointer-events:auto}}@keyframes miss-pointer-event{0%{pointer-events:none}50%{pointer-events:none}100%{pointer-events:auto}}c-player{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;font-size:12px;width:300px;text-align:left}c-player .cp-mainbody{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-height:4.16667em;min-width:25em;-ms-flex-wrap:wrap;flex-wrap:wrap;background-color:#fff;position:relative;z-index:1;border-radius:.33333em;-webkit-box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px}c-player .cp-mainbody>*{margin-right:.58333em}c-player .cp-mainbody:hover+.cp-drop-down-menu.cp-drop-down-menu-info{height:2.08333em}c-player .cp-drop-down-menu{margin:0em .16667em 0;display:block;text-align:center;font-size:1em;line-height:2.08333em;background-color:rgba(255,255,255,0.6);position:relative;z-index:0;height:0em;overflow:hidden;border-bottom-right-radius:.33333em;border-bottom-left-radius:.33333em;-webkit-box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;-webkit-transition:height 0.25s ease 0.1s,-webkit-transform 0.25s ease 0.1s;transition:height 0.25s ease 0.1s,-webkit-transform 0.25s ease 0.1s;transition:transform 0.25s ease 0.1s,height 0.25s ease 0.1s;transition:transform 0.25s ease 0.1s,height 0.25s ease 0.1s,-webkit-transform 0.25s ease 0.1s}c-player .cp-drop-down-menu span.cp-audio-title{max-width:14.16667em;overflow:hidden;text-overflow:ellipsis}c-player .cp-drop-down-menu span.cp-audio-artist{opacity:0.6;max-width:8.33333em;overflow:hidden;text-overflow:ellipsis}c-player .cp-drop-down-menu.cp-drop-down-menu-top{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}c-player .cp-drop-down-menu.cp-drop-down-menu-none{display:none}c-player .cp-drop-down-menu.cp-drop-down-menu-bottom{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}c-player .cp-drop-down-menu.cp-drop-down-menu-info .cp-playlist{display:none}c-player .cp-drop-down-menu.cp-drop-down-menu-info:hover{height:2.08333em}c-player .cp-drop-down-menu.cp-drop-down-menu-playlist .cp-audio-info{display:none}c-player .cp-drop-down-menu.cp-drop-down-menu-playlist{height:auto}c-player .cp-playlist{margin:0em;padding:0em;list-style:none;text-align:left}c-player .cp-playlist li{padding:0em .83333em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}c-player .cp-playlist li .cp-play-icon{display:inline-block;width:1em;height:1em;vertical-align:text-top;margin:0px .41667em 0 0;fill:rgba(183,28,28,0.8)}c-player .cp-playlist-artist{opacity:0.46}c-player .cp-center-container{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative;height:4.16667em;pointer-events:auto}c-player .cp-center-container .cp-controls{opacity:0}c-player .cp-center-container:hover .cp-controls{opacity:1;-webkit-animation:miss-pointer-event 100ms;animation:miss-pointer-event 100ms;-webkit-animation-fill-mode:both;animation-fill-mode:both}c-player .cp-center-container:hover .cp-lyric{opacity:0}c-player .cp-controls{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;width:100%;height:100%;z-index:1;-webkit-transition:opacity 0.25s ease;transition:opacity 0.25s ease}c-player .cp-controls>*{margin-right:1.25em;-webkit-tap-highlight-color:transparent}c-player .cp-lyric{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;width:calc(100% - 1.66667em);height:calc(100% - .83333em);overflow:hidden;margin:.41667em .83333em;font-size:1.16667em;-webkit-transition:opacity 0.25s ease;transition:opacity 0.25s ease}c-player .cp-lyric-text{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;white-space:nowrap;text-align:center;color:#424242}c-player .cp-lyric-text .cp-lyric-text-sub{display:block;color:#757575;font-size:.85714em}c-player .cp-lyric-text .cp-lyric-text-zoomout{font-size:1em;-webkit-transform:translateY(.08333em);transform:translateY(.08333em);display:inline-block;margin:0px .14286em}c-player .cp-progress-container{-ms-flex-preferred-size:100%;flex-basis:100%;margin:0em;opacity:0.8;position:absolute;width:100%;bottom:0px;border-bottom-left-radius:.33333em;border-bottom-right-radius:.33333em;overflow:hidden;pointer-events:none}c-player .cp-progress-container>span{display:none}c-player.cp-big .cp-progress-container{position:relative;border-bottom-left-radius:0;border-bottom-right-radius:0;height:2.91667em;padding:0 .41667em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;pointer-events:auto;color:#424242}c-player.cp-big .cp-progress-container>span{display:inline;margin:0 1.25em;font-size:0.8em}c-player .cp-progress{overflow:hidden}c-player .cp-progress .cp-progress-fill{display:block;height:.16667em;background:#F44336}c-player .cp-progress .cp-progress-button{display:none}c-player.cp-big .cp-progress{overflow:visible}c-player .cp-poster{width:4.16667em;height:4.16667em;background-repeat:repeat;background-position:50% 50%;background-size:cover;background-color:#fafafa;background-origin:padding-box;background-attachment:scroll;border-right:.08333em solid #eee;background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");border-top-left-radius:.33333em;border-bottom-left-radius:.33333em;overflow:hidden}c-player .cp-poster video{width:100%;height:100%}c-player.cp-big .cp-poster{-ms-flex-preferred-size:100%;flex-basis:100%;width:25em;height:14.0625em;border-right:none;border-bottom:.08333em solid #eee;margin:0;border-top-left-radius:.33333em;border-bottom-left-radius:0;border-top-right-radius:.33333em;border-bottom-right-radius:0}c-player .cp-play-icon{width:1.04167em;height:1.04167em;display:block;overflow:hidden;position:relative}c-player .cp-play-icon .cp-play-icon-left{height:100%;float:left;background-color:#F44336;width:36%;-webkit-transition:width 0.25s ease;transition:width 0.25s ease;overflow:hidden}c-player .cp-play-icon .cp-play-icon-right{height:100%;float:right;background-color:#F44336;width:36%;-webkit-transition:width 0.25s ease;transition:width 0.25s ease;overflow:hidden}c-player .cp-play-icon .cp-play-icon-triangle-1{-webkit-transform:translate(0, -100%);transform:translate(0, -100%)}c-player .cp-play-icon .cp-play-icon-triangle-2{-webkit-transform:translate(0, 100%);transform:translate(0, 100%)}c-player .cp-play-icon .cp-play-icon-triangle-1,c-player .cp-play-icon .cp-play-icon-triangle-2{position:absolute;top:0;right:0;background-color:transparent;width:0;height:0;border-right:1.04167em solid #fff;border-top:.52083em solid transparent;border-bottom:.52083em solid transparent;-webkit-transition:-webkit-transform 0.25s ease;transition:-webkit-transform 0.25s ease;transition:transform 0.25s ease;transition:transform 0.25s ease, -webkit-transform 0.25s ease}c-player .cp-play-icon.cp-play-icon-paused .cp-play-icon-left{width:50%}c-player .cp-play-icon.cp-play-icon-paused .cp-play-icon-right{width:50%}c-player .cp-play-icon.cp-play-icon-paused .cp-play-icon-triangle-1{-webkit-transform:translate(0, -50%);transform:translate(0, -50%)}c-player .cp-play-icon.cp-play-icon-paused .cp-play-icon-triangle-2{-webkit-transform:translate(0, 50%);transform:translate(0, 50%)}c-player .cp-play-icon.cp-play-icon-hover .cp-play-icon-left,c-player .cp-play-button:hover .cp-play-icon-left{background-color:#B71C1C}c-player .cp-play-icon.cp-play-icon-hover .cp-play-icon-right,c-player .cp-play-button:hover .cp-play-icon-right{background-color:#B71C1C}c-player .cp-play-button,c-player .cp-volume-button,c-player .cp-prev-button,c-player .cp-list-button,c-player .cp-mode-button,c-player .cp-next-button{display:inline-block;width:1.04167em;height:1.04167em;cursor:pointer}c-player .cp-volume-button{width:1.66667em;position:relative}c-player .cp-list-button{width:1.45833em;height:1.45833em}c-player .cp-mode-button{width:1.58333em;height:1.58333em}c-player .cp-play-button{height:2.5em;width:2.5em;border:#F44336 solid 1px;border-radius:50%}c-player .cp-play-button .cp-play-icon.cp-play-icon-paused{margin:.6875em}c-player .cp-play-button .cp-play-icon{margin:.6875em}c-player .cp-play-button:hover{border-color:#B71C1C}c-player .cp-icon,c-player .cp-prev-icon,c-player .cp-next-icon,c-player .cp-volume-icon,c-player .cp-random-icon,c-player .cp-single-icon,c-player .cp-loop-icon,c-player .cp-list-icon{height:1.04167em;width:1.04167em}c-player .cp-icon path,c-player .cp-prev-icon path,c-player .cp-next-icon path,c-player .cp-volume-icon path,c-player .cp-random-icon path,c-player .cp-single-icon path,c-player .cp-loop-icon path,c-player .cp-list-icon path{fill:#F44336}c-player .cp-icon:hover path,c-player .cp-prev-icon:hover path,c-player .cp-next-icon:hover path,c-player .cp-volume-icon:hover path,c-player .cp-random-icon:hover path,c-player .cp-single-icon:hover path,c-player .cp-loop-icon:hover path,c-player .cp-list-icon:hover path{fill:#B71C1C}c-player .cp-icon.cp-icon-dark path,c-player .cp-icon-dark.cp-prev-icon path,c-player .cp-icon-dark.cp-next-icon path,c-player .cp-icon-dark.cp-volume-icon path,c-player .cp-icon-dark.cp-random-icon path,c-player .cp-icon-dark.cp-single-icon path,c-player .cp-icon-dark.cp-loop-icon path,c-player .cp-icon-dark.cp-list-icon path{fill:#757575}c-player .cp-icon.cp-icon-dark:hover path,c-player .cp-icon-dark.cp-prev-icon:hover path,c-player .cp-icon-dark.cp-next-icon:hover path,c-player .cp-icon-dark.cp-volume-icon:hover path,c-player .cp-icon-dark.cp-random-icon:hover path,c-player .cp-icon-dark.cp-single-icon:hover path,c-player .cp-icon-dark.cp-loop-icon:hover path,c-player .cp-icon-dark.cp-list-icon:hover path{fill:#616161}c-player .cp-next-icon{-webkit-transform:rotateZ(180deg);transform:rotateZ(180deg)}c-player .cp-volume-icon{width:1.66667em}c-player .cp-random-icon,c-player .cp-single-icon,c-player .cp-loop-icon{width:1.58333em;height:1.58333em;display:none}c-player .cp-mode-button[data-mode=listloop] .cp-loop-icon,c-player .cp-mode-button[data-mode=singlecycle] .cp-single-icon,c-player .cp-mode-button[data-mode=listrandom] .cp-random-icon{display:block}c-player .cp-list-icon{width:1.45833em;height:1.45833em}c-player .cp-volume-container{position:absolute;left:50%;top:-7px;height:2.08333em;width:10.83333em;-webkit-transform:translateX(-50%) translateY(-120%);transform:translateX(-50%) translateY(-120%);z-index:1;visibility:hidden;text-align:left;border-radius:.33333em;padding:0 15px;background:#fff;-webkit-box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px}c-player .cp-volume-container.cp-volume-container-show{visibility:visible}c-player .cp-volume-container:hover{visibility:visible}c-player .cp-volume-container:before{content:'';width:0em;height:0em;display:inline-block;border-top:.83333em solid #fff;border-left:.83333em solid transparent;border-right:.83333em solid transparent;position:absolute;bottom:0em;left:50%;-webkit-transform:translate(-50%, 100%);transform:translate(-50%, 100%)}c-player .cp-volume-container:after{content:'';width:1.17851em;height:1.17851em;display:inline-block;position:absolute;bottom:0em;left:50%;-webkit-transform:translate(-50%, 50%) rotate(45deg);transform:translate(-50%, 50%) rotate(45deg);-webkit-box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px;box-shadow:rgba(0,0,0,0.117647) 0px 1px 6px,rgba(0,0,0,0.117647) 0px 1px 4px}c-player .cp-volume-container>div{width:100%;height:100%;background:#fff;border-radius:.33333em;position:relative;z-index:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}c-player.cp-big .cp-progress,c-player .cp-volume-controller,c-player.cp-dark.cp-big .cp-progress{display:inline-block;height:.33333em;width:100%;border-radius:.16667em;background:#BDBDBD;line-height:0;-ms-touch-action:none;touch-action:none;position:relative}c-player.cp-big .cp-progress .cp-progress-fill,c-player .cp-volume-controller .cp-volume-fill,c-player.cp-dark.cp-big .cp-progress .cp-volume-controller .cp-volume-fill,c-player.cp-dark.cp-big .cp-volume-controller .cp-progress .cp-volume-fill,c-player.cp-dark.cp-big .cp-progress .cp-progress-fill{display:inline-block;height:100%;width:100%;border-radius:.16667em;background:#616161}c-player.cp-big .cp-progress .cp-progress-button,c-player .cp-volume-controller .cp-volume-controller-button,c-player.cp-dark.cp-big .cp-progress .cp-volume-controller .cp-volume-controller-button,c-player.cp-dark.cp-big .cp-volume-controller .cp-progress .cp-volume-controller-button,c-player.cp-dark.cp-big .cp-progress .cp-progress-button{height:1.25em;width:1.25em;position:absolute;right:0em;top:-.45833em;display:inline-block;border-radius:50%;border:.16667em solid #fff;background:#757575;-webkit-transform:translateX(50%);transform:translateX(50%)}c-player.cp-big .cp-progress .cp-progress-button:hover,c-player .cp-volume-controller .cp-volume-controller-button:hover{background:#616161}c-player svg{vertical-align:top}c-player *,c-player *::before,c-player *::after{-webkit-box-sizing:border-box;box-sizing:border-box}c-player.cp-dark{color:#bbb}c-player.cp-dark .cp-mainbody{background-color:#222}c-player.cp-dark .cp-drop-down-menu{background-color:rgba(34,34,34,0.9)}c-player.cp-dark .cp-playlist li .cp-play-icon{fill:rgba(189,189,189,0.8)}c-player.cp-dark .cp-lyric-text{color:#bbb}c-player.cp-dark .cp-lyric-text .cp-lyric-text-sub{color:#757575}c-player.cp-dark .cp-progress .cp-progress-fill{background:#BDBDBD}c-player.cp-dark .cp-poster{background-color:#333;border-right-color:#333}c-player.cp-dark.cp-big .cp-poster{border-bottom-color:#333}c-player.cp-dark.cp-big .cp-progress-container{color:#bbb}c-player.cp-dark.cp-big .cp-progress{overflow:visible}c-player.cp-dark .cp-play-icon .cp-play-icon-left{background-color:#a1a1a1}c-player.cp-dark .cp-play-icon .cp-play-icon-right{background-color:#a1a1a1}c-player.cp-dark .cp-play-icon .cp-play-icon-triangle-1,c-player.cp-dark .cp-play-icon .cp-play-icon-triangle-2{border-right-color:#222}c-player.cp-dark .cp-play-icon.cp-play-icon-hover .cp-play-icon-left,c-player.cp-dark .cp-play-button:hover .cp-play-icon-left{background-color:#BDBDBD}c-player.cp-dark .cp-play-icon.cp-play-icon-hover .cp-play-icon-right,c-player.cp-dark .cp-play-button:hover .cp-play-icon-right{background-color:#BDBDBD}c-player.cp-dark .cp-play-button{border-color:#a1a1a1}c-player.cp-dark .cp-play-button:hover{border-color:#BDBDBD}c-player.cp-dark .cp-icon path,c-player.cp-dark .cp-prev-icon path,c-player.cp-dark .cp-next-icon path,c-player.cp-dark .cp-volume-icon path,c-player.cp-dark .cp-random-icon path,c-player.cp-dark .cp-single-icon path,c-player.cp-dark .cp-loop-icon path,c-player.cp-dark .cp-list-icon path{fill:#a1a1a1}c-player.cp-dark .cp-icon:hover path,c-player.cp-dark .cp-prev-icon:hover path,c-player.cp-dark .cp-next-icon:hover path,c-player.cp-dark .cp-volume-icon:hover path,c-player.cp-dark .cp-random-icon:hover path,c-player.cp-dark .cp-single-icon:hover path,c-player.cp-dark .cp-loop-icon:hover path,c-player.cp-dark .cp-list-icon:hover path{fill:#BDBDBD}c-player.cp-dark .cp-icon.cp-icon-dark path,c-player.cp-dark .cp-icon-dark.cp-prev-icon path,c-player.cp-dark .cp-icon-dark.cp-next-icon path,c-player.cp-dark .cp-icon-dark.cp-volume-icon path,c-player.cp-dark .cp-icon-dark.cp-random-icon path,c-player.cp-dark .cp-icon-dark.cp-single-icon path,c-player.cp-dark .cp-icon-dark.cp-loop-icon path,c-player.cp-dark .cp-icon-dark.cp-list-icon path{fill:#757575}c-player.cp-dark .cp-icon.cp-icon-dark:hover path,c-player.cp-dark .cp-icon-dark.cp-prev-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-next-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-volume-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-random-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-single-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-loop-icon:hover path,c-player.cp-dark .cp-icon-dark.cp-list-icon:hover path{fill:#616161}c-player.cp-dark .cp-volume-container{background:#222}c-player.cp-dark .cp-volume-container:before{border-top-color:#222}c-player.cp-dark .cp-volume-container>div{background:#222}c-player.cp-dark c-player.cp-big .cp-progress,c-player.cp-big c-player.cp-dark .cp-progress,c-player.cp-dark .cp-volume-controller,c-player.cp-dark.cp-big .cp-progress{background:#616161}c-player.cp-dark c-player.cp-big .cp-progress .cp-progress-fill,c-player.cp-big c-player.cp-dark .cp-progress .cp-progress-fill,c-player.cp-big .cp-progress c-player.cp-dark .cp-volume-controller .cp-progress-fill,c-player.cp-dark .cp-volume-controller .cp-volume-fill,c-player.cp-dark.cp-big .cp-progress .cp-progress-fill{background:#BDBDBD}c-player.cp-dark c-player.cp-big .cp-progress .cp-progress-button,c-player.cp-big c-player.cp-dark .cp-progress .cp-progress-button,c-player.cp-big .cp-progress c-player.cp-dark .cp-volume-controller .cp-progress-button,c-player.cp-dark .cp-volume-controller .cp-volume-controller-button,c-player.cp-dark.cp-big .cp-progress .cp-progress-button{border-color:#222;background:#757575}c-player.cp-dark c-player.cp-big .cp-progress .cp-progress-button:hover,c-player.cp-big c-player.cp-dark .cp-progress .cp-progress-button:hover,c-player.cp-big .cp-progress c-player.cp-dark .cp-volume-controller .cp-progress-button:hover,c-player.cp-dark .cp-volume-controller .cp-volume-controller-button:hover,c-player.cp-dark.cp-big .cp-progress .cp-progress-button:hover{background:#BDBDBD}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};"],"sourceRoot":""}